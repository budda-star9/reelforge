(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function T(){}function se(t){return t()}function Z(){return Object.create(null)}function L(t){t.forEach(se)}function ue(t){return typeof t=="function"}function de(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ye(t){return Object.keys(t).length===0}function p(t,e){t.appendChild(e)}function w(t,e,r){t.insertBefore(e,r||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function M(t){return document.createTextNode(t)}function C(){return M(" ")}function ke(){return M("")}function E(t,e,r,o){return t.addEventListener(e,r,o),()=>t.removeEventListener(e,r,o)}function j(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function ae(t){return t===""?null:+t}function we(t){return Array.from(t.childNodes)}function fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function z(t,e){t.value=e??""}function n(t,e,r,o){r==null?t.style.removeProperty(e):t.style.setProperty(e,r,o?"important":"")}let H;function q(t){H=t}function ve(){if(!H)throw new Error("Function called outside component initialization");return H}function pe(t){ve().$$.on_mount.push(t)}const B=[],ee=[];let V=[];const te=[],Ce=Promise.resolve();let W=!1;function xe(){W||(W=!0,Ce.then(me))}function Q(t){V.push(t)}const G=new Set;let D=0;function me(){if(D!==0)return;const t=H;do{try{for(;D<B.length;){const e=B[D];D++,q(e),Se(e.$$)}}catch(e){throw B.length=0,D=0,e}for(q(null),B.length=0,D=0;ee.length;)ee.pop()();for(let e=0;e<V.length;e+=1){const r=V[e];G.has(r)||(G.add(r),r())}V.length=0}while(B.length);for(;te.length;)te.pop()();W=!1,G.clear(),q(t)}function Se(t){if(t.fragment!==null){t.update(),L(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}function Pe(t){const e=[],r=[];V.forEach(o=>t.indexOf(o)===-1?e.push(o):r.push(o)),r.forEach(o=>o()),V=e}const K=new Set;let F;function Oe(){F={r:0,c:[],p:F}}function Te(){F.r||L(F.c),F=F.p}function Y(t,e){t&&t.i&&(K.delete(t),t.i(e))}function X(t,e,r,o){if(t&&t.o){if(K.has(t))return;K.add(t),F.c.push(()=>{K.delete(t),o&&(r&&t.d(1),o())}),t.o(e)}else o&&o()}function Ee(t){t&&t.c()}function _e(t,e,r,o){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,r),o||Q(()=>{const l=t.$$.on_mount.map(se).filter(ue);t.$$.on_destroy?t.$$.on_destroy.push(...l):L(l),t.$$.on_mount=[]}),s.forEach(Q)}function be(t,e){const r=t.$$;r.fragment!==null&&(Pe(r.after_update),L(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Re(t,e){t.$$.dirty[0]===-1&&(B.push(t),xe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,r,o,i,s,l,d=[-1]){const c=H;q(t);const u=t.$$={fragment:null,ctx:[],props:s,update:T,not_equal:i,bound:Z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Z(),dirty:d,skip_bound:!1,root:e.target||c.$$.root};l&&l(u.root);let f=!1;if(u.ctx=r?r(t,e.props||{},(g,a,...k)=>{const m=k.length?k[0]:a;return u.ctx&&i(u.ctx[g],u.ctx[g]=m)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](m),f&&Re(t,g)),a}):[],u.update(),f=!0,L(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const g=we(e.target);u.fragment&&u.fragment.l(g),g.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&Y(t.$$.fragment),_e(t,e.target,e.anchor,e.customElement),me()}q(c)}class he{$destroy(){be(this,1),this.$destroy=T}$on(e,r){if(!ue(r))return T;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(r),()=>{const i=o.indexOf(r);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!ye(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function re(t){let e,r,o,i,s,l,d,c,u,f,g,a,k,m,S,b,v=t[4]?"‚Üê Use Camera":"üñ•Ô∏è Upload Pro Video",O,A,J,I=Ae(),$=Ue(t),x=t[0]==="recording"&&ne();function U(h,P){return h[0]==="recording"?$e:Ne}let N=U(t),R=N(t);return{c(){e=_("div"),r=_("video"),o=C(),I&&I.c(),i=C(),$&&$.c(),s=C(),x&&x.c(),l=C(),d=_("div"),c=_("input"),u=C(),f=_("input"),g=C(),a=_("textarea"),k=C(),m=_("button"),R.c(),S=C(),b=_("button"),O=M(v),j(r,"id","camera"),r.autoplay=!0,r.muted=!0,r.playsInline=!0,n(r,"width","100%"),n(r,"border-radius","8px"),n(r,"background","#000"),n(e,"position","relative"),n(e,"margin","1rem 0"),j(c,"placeholder","Scene title"),n(c,"padding","0.5rem"),n(c,"border","1px solid #ccc"),n(c,"border-radius","4px"),j(f,"type","number"),j(f,"min","1"),n(f,"padding","0.5rem"),n(f,"border","1px solid #ccc"),n(f,"border-radius","4px"),n(f,"text-align","center"),n(d,"display","grid"),n(d,"grid-template-columns","1fr 1fr"),n(d,"gap","0.5rem"),n(d,"margin","1rem 0"),j(a,"placeholder","Your line..."),j(a,"rows","2"),n(a,"width","100%"),n(a,"padding","0.5rem"),n(a,"margin","0.5rem 0"),n(a,"border","1px solid #ccc"),n(a,"border-radius","4px"),n(m,"width","100%"),n(m,"padding","0.75rem"),n(m,"background",t[0]==="recording"?"#e74c3c":"#4361ee"),n(m,"color","white"),n(m,"border","none"),n(m,"border-radius","8px"),n(m,"font-size","1.1rem"),n(b,"width","100%"),n(b,"padding","0.5rem"),n(b,"margin-top","0.5rem"),n(b,"background","#2ecc71"),n(b,"color","white"),n(b,"border","none"),n(b,"border-radius","4px")},m(h,P){w(h,e,P),p(e,r),p(e,o),I&&I.m(e,null),p(e,i),$&&$.m(e,null),p(e,s),x&&x.m(e,null),w(h,l,P),w(h,d,P),p(d,c),z(c,t[2]),p(d,u),p(d,f),z(f,t[1]),w(h,g,P),w(h,a,P),z(a,t[3]),w(h,k,P),w(h,m,P),R.m(m,null),w(h,S,P),w(h,b,P),p(b,O),A||(J=[E(c,"input",t[9]),E(f,"input",t[10]),E(a,"input",t[11]),E(m,"click",t[6]),E(b,"click",t[12])],A=!0)},p(h,P){$.p(h,P),h[0]==="recording"?x||(x=ne(),x.c(),x.m(e,null)):x&&(x.d(1),x=null),P&4&&c.value!==h[2]&&z(c,h[2]),P&2&&ae(f.value)!==h[1]&&z(f,h[1]),P&8&&z(a,h[3]),N!==(N=U(h))&&(R.d(1),R=N(h),R&&(R.c(),R.m(m,null))),P&1&&n(m,"background",h[0]==="recording"?"#e74c3c":"#4361ee"),P&16&&v!==(v=h[4]?"‚Üê Use Camera":"üñ•Ô∏è Upload Pro Video")&&fe(O,v)},d(h){h&&y(e),I&&I.d(),$&&$.d(),x&&x.d(),h&&y(l),h&&y(d),h&&y(g),h&&y(a),h&&y(k),h&&y(m),R.d(),h&&y(S),h&&y(b),A=!1,L(J)}}}function Ae(t){let e;return{c(){e=_("div"),n(e,"position","absolute"),n(e,"top","10%"),n(e,"left","10%"),n(e,"right","10%"),n(e,"bottom","20%"),n(e,"border","2px dashed rgba(67, 97, 238, 0.5)"),n(e,"pointer-events","none")},m(r,o){w(r,e,o)},d(r){r&&y(e)}}}function Ue(t){let e,r;return{c(){e=_("div"),r=M(t[3]),n(e,"position","absolute"),n(e,"bottom","12%"),n(e,"left","10%"),n(e,"right","10%"),n(e,"background","rgba(0,0,0,0.7)"),n(e,"color","white"),n(e,"padding","0.5rem"),n(e,"border-radius","4px"),n(e,"font-size","1.1rem"),n(e,"text-align","center")},m(o,i){w(o,e,i),p(e,r)},p(o,i){i&8&&fe(r,o[3])},d(o){o&&y(e)}}}function ne(t){let e;return{c(){e=_("div"),n(e,"position","absolute"),n(e,"top","1rem"),n(e,"right","1rem"),n(e,"background","red"),n(e,"width","20px"),n(e,"height","20px"),n(e,"border-radius","50%")},m(r,o){w(r,e,o)},d(r){r&&y(e)}}}function Ne(t){let e;return{c(){e=M("üé¨ Record Scene")},m(r,o){w(r,e,o)},d(r){r&&y(e)}}}function $e(t){let e;return{c(){e=M("üõë Stop Recording")},m(r,o){w(r,e,o)},d(r){r&&y(e)}}}function oe(t){let e,r,o,i,s,l,d,c,u,f,g,a;return{c(){e=_("div"),r=_("h3"),r.textContent="Pro Upload",o=C(),i=_("p"),i.textContent="Upload MP4 from your camera, phone, or editing suite.",s=C(),l=_("input"),d=C(),c=_("button"),u=M("üì§ Upload"),j(l,"type","file"),j(l,"accept","video/mp4,video/quicktime"),n(l,"margin","0.5rem 0"),c.disabled=f=!t[5],n(c,"padding","0.5rem 1rem"),n(c,"background","#2ecc71"),n(c,"color","white"),n(c,"border","none"),n(c,"border-radius","4px"),n(e,"background","#f8f9fa"),n(e,"padding","1rem"),n(e,"border-radius","8px"),n(e,"margin","1rem 0")},m(k,m){w(k,e,m),p(e,r),p(e,o),p(e,i),p(e,s),p(e,l),p(e,d),p(e,c),p(c,u),g||(a=[E(l,"change",t[13]),E(c,"click",t[8])],g=!0)},p(k,m){m&32&&f!==(f=!k[5])&&(c.disabled=f)},d(k){k&&y(e),g=!1,L(a)}}}function ie(t){let e;return{c(){e=_("div"),e.innerHTML=`<div>üì§ Uploading...</div> 
      <div style="margin-top:0.5rem;font-size:0.9rem;color:#666;">(Small files only ‚Äî max 50MB for MVP)</div>`,n(e,"text-align","center"),n(e,"margin","1rem")},m(r,o){w(r,e,o)},d(r){r&&y(e)}}}function le(t){let e,r,o,i,s,l,d,c,u,f;return{c(){e=_("div"),r=_("div"),r.textContent="‚úÖ",o=C(),i=_("h3"),i.textContent="Scene Uploaded!",s=C(),l=_("p"),l.textContent="Your contribution is now in the remix queue.",d=C(),c=_("button"),c.textContent="+ New Scene",n(r,"font-size","2rem"),n(c,"margin-top","0.5rem"),n(c,"padding","0.5rem 1rem"),n(c,"background","#4361ee"),n(c,"color","white"),n(c,"border","none"),n(c,"border-radius","4px"),n(e,"background","#e6f7ff"),n(e,"padding","1rem"),n(e,"border-radius","8px"),n(e,"text-align","center")},m(g,a){w(g,e,a),p(e,r),p(e,o),p(e,i),p(e,s),p(e,l),p(e,d),p(e,c),u||(f=E(c,"click",t[7]),u=!0)},p:T,d(g){g&&y(e),u=!1,f()}}}function ce(t){let e,r,o,i,s;return{c(){e=_("div"),r=M(`‚ùå Recording failed. Check camera permissions.
      `),o=_("button"),o.textContent="Retry",n(o,"margin-top","0.5rem"),n(o,"padding","0.5rem 1rem"),n(o,"background","#e74c3c"),n(o,"color","white"),n(o,"border","none"),n(o,"border-radius","4px"),n(e,"background","#ffe6e6"),n(e,"padding","1rem"),n(e,"border-radius","8px"),n(e,"text-align","center"),n(e,"color","#e74c3c")},m(l,d){w(l,e,d),p(e,r),p(e,o),i||(s=E(o,"click",t[7]),i=!0)},p:T,d(l){l&&y(e),i=!1,s()}}}function je(t){let e,r,o,i,s,l,d,c,u,f,g,a=(t[0]==="idle"||t[0]==="recording")&&re(t),k=t[4]&&oe(t),m=t[0]==="processing"&&ie(),S=t[0]==="success"&&le(t),b=t[0]==="error"&&ce(t);return{c(){e=_("div"),r=_("h2"),r.textContent="üé• AR Shooter",o=C(),i=_("p"),i.textContent="Record your scene ‚Äî phone or pro gear.",s=C(),a&&a.c(),l=C(),k&&k.c(),d=C(),m&&m.c(),c=C(),S&&S.c(),u=C(),b&&b.c(),f=C(),g=_("div"),g.innerHTML=`<h4>Tips for Great Shots</h4> 
    <ul><li>üì± Hold phone horizontally</li> 
      <li>üí° Face a window for natural light</li> 
      <li>üé§ Stay 3-4 ft from mic/camera</li> 
      <li>üé≠ Pause 1 sec before/after lines</li></ul>`,n(g,"margin-top","2rem"),n(g,"padding-top","1rem"),n(g,"border-top","1px solid #eee"),n(g,"font-size","0.9rem"),n(g,"color","#666"),n(e,"font-family","system-ui"),n(e,"max-width","800px"),n(e,"margin","0 auto"),n(e,"padding","1rem")},m(v,O){w(v,e,O),p(e,r),p(e,o),p(e,i),p(e,s),a&&a.m(e,null),p(e,l),k&&k.m(e,null),p(e,d),m&&m.m(e,null),p(e,c),S&&S.m(e,null),p(e,u),b&&b.m(e,null),p(e,f),p(e,g)},p(v,[O]){v[0]==="idle"||v[0]==="recording"?a?a.p(v,O):(a=re(v),a.c(),a.m(e,l)):a&&(a.d(1),a=null),v[4]?k?k.p(v,O):(k=oe(v),k.c(),k.m(e,d)):k&&(k.d(1),k=null),v[0]==="processing"?m||(m=ie(),m.c(),m.m(e,c)):m&&(m.d(1),m=null),v[0]==="success"?S?S.p(v,O):(S=le(v),S.c(),S.m(e,u)):S&&(S.d(1),S=null),v[0]==="error"?b?b.p(v,O):(b=ce(v),b.c(),b.m(e,f)):b&&(b.d(1),b=null)},i:T,o:T,d(v){v&&y(e),a&&a.d(),k&&k.d(),m&&m.d(),S&&S.d(),b&&b.d()}}}let Me="abc123";function Ie(t,e,r){let o=null,i=null,s=[],l="idle",d=1,c="My Scene",u="What should I say?",f=!1,g=null;async function a(){try{o=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:1280,height:720},audio:!0});const x=document.getElementById("camera");x.srcObject=o}catch(x){console.error("	Camera access denied:",x),r(0,l="error")}}function k(){l==="idle"?m():l==="recording"?S():l==="success"&&b()}function m(){const x=document.getElementById("camera");i=new MediaRecorder(x.srcObject),s=[],i.ondataavailable=U=>s.push(U.data),i.onstop=async()=>{r(0,l="processing");const U=new Blob(s,{type:"video/webm"}),N=new FormData;N.append("video",U,"scene.webm"),N.append("scene_number",d),N.append("title",c),N.append("transcript",u);try{if((await fetch(`http://localhost:3000/api/dramas/${Me}/scenes`,{method:"POST",body:JSON.stringify({scene_number:d,title:c,video_url:"https://example.com/placeholder.mp4",transcript:u}),headers:{"Content-Type":"application/json"}})).ok)r(0,l="success");else throw new Error("Upload failed")}catch(R){console.error(R),r(0,l="error")}},i.start(),r(0,l="recording")}function S(){i.stop()}function b(){o&&o.getTracks().forEach(x=>x.stop()),r(0,l="idle"),s=[]}async function v(){if(!g)return;r(0,l="processing"),new FormData().append("video",g);try{await new Promise(U=>setTimeout(U,1e3)),r(0,l="success")}catch{r(0,l="error")}}pe(()=>(a(),()=>b()));function O(){c=this.value,r(2,c)}function A(){d=ae(this.value),r(1,d)}function J(){u=this.value,r(3,u)}return[l,d,c,u,f,g,k,b,v,O,A,J,()=>r(4,f=!f),x=>r(5,g=x.target.files[0])]}class Fe extends he{constructor(e){super(),ge(this,e,Ie,je,de,{})}}function Le(t){let e,r;return e=new Fe({}),{c(){Ee(e.$$.fragment)},m(o,i){_e(e,o,i),r=!0},p:T,i(o){r||(Y(e.$$.fragment,o),r=!0)},o(o){X(e.$$.fragment,o),r=!1},d(o){be(e,o)}}}function ze(t){let e,r,o,i,s;function l(u,f){return u[0]==="idle"?He:u[0]==="pending"?qe:u[0]==="success"?Ve:u[0]==="timeout"?Be:De}let d=l(t),c=d(t);return{c(){e=_("main"),r=_("h1"),r.textContent="üé¨ ReelForge",o=C(),i=_("p"),i.textContent="Micro-drama. Co-created. üîê",s=C(),c.c(),n(i,"opacity","0.8"),n(e,"padding","2rem"),n(e,"text-align","center"),n(e,"font-family","system-ui"),n(e,"background","#0f0f0f"),n(e,"color","white"),n(e,"min-height","100vh"),n(e,"display","flex"),n(e,"flex-direction","column"),n(e,"justify-content","center"),n(e,"align-items","center")},m(u,f){w(u,e,f),p(e,r),p(e,o),p(e,i),p(e,s),c.m(e,null)},p(u,f){d===(d=l(u))&&c?c.p(u,f):(c.d(1),c=d(u),c&&(c.c(),c.m(e,null)))},i:T,o:T,d(u){u&&y(e),c.d()}}}function De(t){let e,r,o,i,s;return{c(){e=_("div"),e.textContent="‚ùå Failed. Check console.",r=C(),o=_("button"),o.textContent="‚Üª Retry",n(e,"margin-top","1.5rem"),n(e,"color","red"),n(o,"margin-top","0.5rem"),n(o,"padding","0.5rem 1rem"),n(o,"background","#4361ee"),n(o,"color","white"),n(o,"border","none"),n(o,"border-radius","4px")},m(l,d){w(l,e,d),w(l,r,d),w(l,o,d),i||(s=E(o,"click",t[5]),i=!0)},p:T,d(l){l&&y(e),l&&y(r),l&&y(o),i=!1,s()}}}function Be(t){let e,r,o,i,s;return{c(){e=_("div"),e.textContent="‚è∞ Session expired. Try again.",r=C(),o=_("button"),o.textContent="‚Üª Retry",n(e,"margin-top","1.5rem"),n(e,"color","orange"),n(o,"margin-top","0.5rem"),n(o,"padding","0.5rem 1rem"),n(o,"background","#4361ee"),n(o,"color","white"),n(o,"border","none"),n(o,"border-radius","4px")},m(l,d){w(l,e,d),w(l,r,d),w(l,o,d),i||(s=E(o,"click",t[4]),i=!0)},p:T,d(l){l&&y(e),l&&y(r),l&&y(o),i=!1,s()}}}function Ve(t){let e,r,o,i,s;return{c(){e=_("div"),e.textContent="‚úÖ Passkey registered!",r=C(),o=_("button"),o.textContent="üé• Start Shooting",n(e,"margin-top","1.5rem"),n(e,"color","#2ecc71"),n(o,"margin-top","0.5rem"),n(o,"padding","0.5rem 1rem"),n(o,"background","#4361ee"),n(o,"color","white"),n(o,"border","none"),n(o,"border-radius","4px")},m(l,d){w(l,e,d),w(l,r,d),w(l,o,d),i||(s=E(o,"click",t[3]),i=!0)},p:T,d(l){l&&y(e),l&&y(r),l&&y(o),i=!1,s()}}}function qe(t){let e;return{c(){e=_("div"),e.innerHTML=`üõ°Ô∏è Creating passkey...<br/> 
        <small style="opacity:0.7;">(Check OS prompt)</small>`,n(e,"margin-top","1.5rem"),n(e,"color","#4361ee")},m(r,o){w(r,e,o)},p:T,d(r){r&&y(e)}}}function He(t){let e,r,o;return{c(){e=_("button"),e.textContent="‚ú® Create Passkey",n(e,"margin-top","1.5rem"),n(e,"padding","0.75rem 1.5rem"),n(e,"font-size","1.1rem"),n(e,"background","#4361ee"),n(e,"color","white"),n(e,"border","none"),n(e,"border-radius","8px"),n(e,"cursor","pointer")},m(i,s){w(i,e,s),r||(o=E(e,"click",t[2]),r=!0)},p:T,d(i){i&&y(e),r=!1,o()}}}function Je(t){let e,r,o,i;const s=[ze,Le],l=[];function d(c,u){return c[1]?1:0}return e=d(t),r=l[e]=s[e](t),{c(){r.c(),o=ke()},m(c,u){l[e].m(c,u),w(c,o,u),i=!0},p(c,[u]){let f=e;e=d(c),e===f?l[e].p(c,u):(Oe(),X(l[f],1,1,()=>{l[f]=null}),Te(),r=l[e],r?r.p(c,u):(r=l[e]=s[e](c),r.c()),Y(r,1),r.m(o.parentNode,o))},i(c){i||(Y(r),i=!0)},o(c){X(r),i=!1},d(c){l[e].d(c),c&&y(o)}}}function Ke(t,e,r){let o="idle",i=null,s=null,l=!1;function d(){clearTimeout(s),s=setTimeout(()=>{i=null,r(0,o="timeout")},5*60*1e3)}async function c(){r(0,o="pending"),i=null;try{const a=await fetch("http://localhost:3000/api/auth/challenge",{method:"POST",headers:{"Content-Type":"application/json"}}),{state_id:k,challenge:m,user_id:S}=await a.json();i=k,d();const b=await navigator.credentials.create({publicKey:{challenge:Uint8Array.from(atob(m),A=>A.charCodeAt(0)),rp:{id:"localhost",name:"ReelForge"},user:{id:Uint8Array.from(atob(S),A=>A.charCodeAt(0)),name:"creator",displayName:"ReelForge Creator"},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],timeout:6e4,authenticatorSelection:{userVerification:"required",residentKey:"discouraged"},attestation:"none"}}),O=await(await fetch("http://localhost:3000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state_id:k,response:{id:b.id,rawId:Array.from(new Uint8Array(b.rawId)),response:{clientDataJSON:Array.from(new Uint8Array(b.response.clientDataJSON)),attestationObject:Array.from(new Uint8Array(b.response.attestationObject))}}})})).json();if(O.status==="ok")r(0,o="success"),i=null,clearTimeout(s),r(1,l=!0);else throw new Error(O.message||"Registration failed")}catch(a){console.error(a),r(0,o=a.name==="AbortError"?"idle":"error"),i=null,clearTimeout(s)}}return pe(()=>()=>clearTimeout(s)),[o,l,c,()=>{r(1,l=!0)},()=>{r(0,o="idle")},()=>{r(0,o="idle")}]}class Ye extends he{constructor(e){super(),ge(this,e,Ke,Je,de,{})}}new Ye({target:document.getElementById("app")});
